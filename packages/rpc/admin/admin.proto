import "google/protobuf/empty.proto";
import "google/protobuf/any.proto";

syntax = "proto3";

package admin;

service AdminQueries {
  rpc getEvents(google.protobuf.Empty) returns (EventList);
}

message EventList {
  repeated Event events = 1;
}

message Event {
  string id = 1;
  string aggregateId = 2;
  string name = 3;
  
  /* FIXME don't use JSON string as this defeats the purpose of protobuf
   * But: how to handle dynamic field efficiently? With "any" or "oneof" we
   * would need to add ALL events and check which event it is on every response
   */
  string data = 4;
  
  string timestamp = 5;
  int32 eventNumber = 6;
}